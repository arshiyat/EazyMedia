["function _5cef429cb8586a3dc4c5da2c6979f3221a903569",50,1515,"model){eazyMedia.model={}}if(!eazyMedia.store){eazyMedia.store",1547,419150,"proxy.WebStorage",365370,54,"WebStorageProxy\",config:{id:undefined,reader:null,writer:null,enablePagingParams:false,defaultDateFormat:\"Y-m-d H:i:s.u\"},constructor:function(a){Ext.data.proxy.Cli",264079,47,";this.cache={}},updateModel:function(a){if(!this.getId()){this.setId(a.modelName)}Ext.data.proxy.Client.prototype.updateModel.apply(this,arguments)},create:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),b,g,f;e.setStarted();for(f=0;f<c;f++){g=d[f];b=g.getId();this.setRecord(g);a.push(b)}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},read:function(h,o,p){var e=[],a=this.getIds(),l=this.getModel(),q=l.getIdProperty(),g=h.getParams()||{},n=h.getSorters(),d=h.getFilters(),b=h.getStart(),f=h.getLimit(),c=a.length,j,k,m;if(g[q]!==undefined){k=this.getRecord(g[q]);if(k){e.push(k);h.setSuccessful()}}else{for(j=0;j<c;j++){k=this.getRecord(a[j]);if(k){e.push(k)}}m",418144,33,");if(d&&d.length){m.setFilters(d)}if(n&&n.length){m.setSorters(n)}m.addAll(e);if(this.getEnablePagingParams()&&b!==undefined&&f!==undefined){e=m.items.slice(b,b+f)}else{e=m.items.slice()}h.setSuccessful()}h.setCompleted();h.setResultSet(Ext.create(\"Ext.data.ResultSet\",{records:e,total:e.length,loaded:true}));h.setRecords(e);if(typeof o==\"function\"){o.call(p||this,h)}},update:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),g,b,f;e.setStarted();for(f=0;f<c;f++){g=d[f];this.setRecord(g);b=g.getId();if(b!==undefined&&Ext.Array.indexOf(a,b)==-1){a.push(b)}}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},destroy:function(b,h,e){var a=b.getRecords(),f=a.length,d=this.getIds(),g=[].concat(d),c;b.setStarted();for(c=0;c<f;c++){Ext.Array.remove(g,a[c].getId());this.removeRecord(a[c],false)}this.setIds(g);",365576,35,"if(typeof h==\"function\"){h.call(e||this,b)}},getRecord:function(c){if(this.cache[c]===undefined){var m=this.getRecordKey(c),n=this.getStorageObject().getItem(m),g={},e=this.getModel(),k=e.getFields().items,d=k.length,h,l,b,j,a,f;if(!n){return undefined}a=Ext.decode(n);for(h=0;h<d;h++){l=k[h];b=l.getName();f=a[b];if(typeof l.getDecode()==\"function\"){g[b]=l.getDecode()(f)}else{if(l.getType().type==\"date\"){g[b]=this.readDate(l,f)}else{g[b]=f}}}j=new e(g,c);this.cache[c]=j}return this.cache[c]},setRecord:function(l,c){if(c){l.setId(c)}else{c=l.getId()}var o=this,a=l.getData(),k={},f=o.getModel(),m=f.getFields().items,d=m.length,j=0,g,p,b,h,q;for(;j<d;j++){p=m[j];b=p.getName();g=a[b];if(p.getPersist()===false){continue}if(typeof p.getEncode()==\"function\"){k[b]=p.getEncode()(g,l)}else{if(p.getType().type==\"date\"&&Ext.isDate(g)){k[b]=this.writeDate(p,g)}else{k[b]=g}}}h=o.getStorageObject();q=o.getRecordKey(c);o.cache[c]=l;h.removeItem(q);try{h.setItem(q,Ext.encode(k))}catch(n",365927,35,")}l.commit()},removeRecord:function(d,c){var b=this,a;if(d.isModel){d=d.getId()}if(c!==false){a=b.getIds();Ext.Array.remove(a,d);b.setIds(a)}delete this.cache[d];b.getStorageObject().removeItem(b.getRecordKey(d))},getRecordKey:function(a){if(a.isModel){a=a.getId()}return Ext.String.format(\"{0}-{1}\",this.getId(),a)},getIds:function(){var b=(this.getStorageObject().getItem(this.getId())||\"\").split(\",\"),c=b.length,a;if(c==1&&b[0]===\"\"){b=[]}return b},setIds:function(a){var c=this.getStorageObject(),d=a.join(\",\"),f=this.getId();c.removeItem(f);if(!Ext.isEmpty(d)){try{c.setItem(f,",358233,44,"b)}}},writeDate:function(c,b){if(Ext.isEmpty(b)",360199,39,"this.getDefaultDateFormat()",360249,119,"readDate:function(c,b){if(Ext.isEmpty(b)",360199,39,"this.getDefaultDateFormat()",360249,34,"new Date(b*1000);case\"time\":return new Date(b);default:return Ext.isDate(b)?b:Ext.Date.parse(b,a)}},initialize:function(){Ext.data.proxy.Clien",567303,44,";var a=this.getStorageObject();try{a.setItem(this.getId(),a.getItem(this.getId())||\"\"",358234,43,"b)}},clear:function(){var d=this.getStorageObject(),c=this.getIds(),a=c.length,b;for(b=0;b<a;b++){this.removeRecord(c[b],false)}d.removeItem(this.getId())},getStorageObject:function(){}},1,0,0,0,0,0,[Ext.data.proxy,\"WebStorage\",Ext.data,\"WebStorageProxy",444479,32,".proxy.LocalStorage\",Ext.data.proxy.WebStorag",374955,32,"LocalStorageProxy\",getStorageObject:function(){return window.localStorage}},0,0,0,0,[\"proxy.localstorage\"],0,[Ext.data.proxy,\"LocalStorage\",Ext.data,\"LocalStorageProxy",444479,32,420696,147651,"model.Media\",Ext.data.Model,{config:{fields:[{name:\"mediaId\",type:\"int\"},{name:\"imageType\",type:\"string\"},{name:\"srcUrl\",type:\"string\"},{name:\"imgUrl\",type:\"string\"},{name:\"dateStamp\",type:\"string\"}]}},0,0,0,0,[\"model.User\"],0,[eazyMedia.model,\"Media",572428,34,"store.MediaStore\",Ext.data.Store,{config:{autoLoad:true,model:\"eazyMedia.model.Media\",storeId:\"userstore\",proxy:{type:\"localstorage\",id:\"userstoreproxy\"}}},0,0,0,0,[\"store.UserStore\"],0,[eazyMedia.store,\"MediaStore",572428,39,568352,284,"flex:1,iconCls:\"settings\"",568658,417,"iconCls:\"trash\",iconMask:true",569088,45,"dataview\",scrollable:\"horizontal\",cls:\"dataview-horizontal\",inline:{wrap:false},itemTpl:'<div class=\"myContent\"><div>Image Type: <b>{imageType}</b></div><div>Date created: <b>{dateCreated}</b></div>',store:\"MediaStore",569153,287,"store:null,",569440,277,",SettingsBackbutton:\"#SettingsBackbutton\",filterBackbutton:\"#filterBackbutton\",img:\"#img",569716,238,",SettingsBackbutton:{tap:\"onSettingBackButton\"},filterBackbutton:{tap:\"onFilterBackButton",569952,57,"SlideRigh",569965,37,"right\"},fileSystem:null,mediaDirectoryEntry:null,init:function(){},launch:function(){this.setStore(Ext.getStore(\"mediaStore\"));this.getMainDirectoryCreated()",570007,342,"e,b,d",570354,78,"var c=this.getFilter",570923,38,"c,this.SlideLeftTransition)},onFilterBackButton",570810,163,"RightTransition)},onSettingBackButton:function(){if(!this.main){this.main=",573742,33,"}var a=this.getMain",570927,46,"RightTransition)},onPhoto:function(){var b=this;alert(\"dir entry created\"+this.mediaDirectoryEntry.fullPath);try{navigator.camera.getPicture(a,d,{quality:50,destinationType:Camera.DestinationType.FILE_URI,saveToPhotoAlbum:false,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:false});function a(e){b.moveAndRenameMedia(e)}function d(e){console.log(\"Failed because: \"+e)}}catch(c){alert(\"exception\"+c.toString())}},onVideo:function(){var a=this;var c=function(g){var e,f,d;for(e=0,d=g.length;e<d;e+=1){f=g[e].fullPath}};var b=function(d){navigator.notification.alert(\"Error code: \"+d.code,null,\"Capture Error\")};navigator.device.capture.captureVideo(c,b,{limit:2})},onAudio:function(){var a=this;var c=function(g){var e,f,d;for(e=0,d=g.length;e<d;e+=1){f=g[e].fullPath}};var b=function(d){navigator.notification.alert(\"Error code: \"+d.code,null,\"Capture Error\")};navigator.device.capture.captureAudio(c,b,{limit:2}",570748,775,",getGeneratedId:function(){var a=new Date();var b=(a.getTime()).toString()+(this.getRandomInt(0,100)).toString();return b},getRandomInt:function(b,a){return Math.floor(Math.random()*(a-b+1))+b},moveAndRenameMedia:function(b){try{var a;me=this;var d=this.getGeneratedId();d=d+\".jpg\";window.resolveLocalFileSystemURI(b,function(e){me.getImg().setSrc(a);e.moveTo(me.mediaDirectoryEntry,d,function(f){alert(\"moved image url\"+f.toURL());me.storeMedia(f.toURL());me.getImg().setSrc(f.toURL())},function(f){me.errorHandler(c)})},function(f){me.errorHandler(f)})}catch(c){alert(\"exception caught\"+c.toString())}},errorHandler:function(a){var b=\"\";switch(a.code){case FileError.QUOTA_EXCEEDED_ERR:b=\"QUOTA_EXCEEDED_ERR\";break;case FileError.NOT_FOUND_ERR:b=\"NOT_FOUND_ERR\";break;case FileError.SECURITY_ERR:b=\"SECURITY_ERR\";break;case FileError.INVALID_MODIFICATION_ERR:b=\"INVALID_MODIFICATION_ERR\";break;case FileError.INVALID_STATE_ERR:b=\"INVALID_STATE_ERR\";break;default:b=\"Unknown Error\";break}alert(\"Error: \"+b)},errorOnDirectory:function(a){alert(\"Directory not found ...create the directory\")},createDirectory:function(a){var b=this;try{alert(\"creting directot with root\"+a.fullPath);a.getDirectory(\"EazyMedia\",{create:true},function(d){alert(\"creating eazyMedia directory with url \"+d.fullPath);b.createSubDirectory(d)},function(d){b.errorHandler(d)})}catch(c){alert(\"Exception caught\"+c.toString())}},createSubDirectory:function(d){var c=this;var b=new Date();var a=\"\"+b.getDate()+b.getMonth()+b.getFullYear();alert(\"in creating sub directories\"+a);d.getDirectory(a,{},function(e){alert(\"dir exists now start\"+e.fullPath);c.mediaDirectoryEntry=e},function(f){if(f.code==FileError.NOT_FOUND_ERR){d.getDirectory(a,{create:true},function(e){alert(\"sub directory created now we are ready to start \");c.mediaDirectoryEntry=e},function(g){c.errorHandler(g)})}})},getMainDirectoryCreated:function(){var a=this;alert(\"file sss\"+this.fileSystem);var c;try{alert(\"finding the directory\");window.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(d){c=d.root;alert(\"found fs\"+c.fullPath);d.root.getDirectory(\"EazyMedia\",{},function(e){alert(\"Directory found  of eazyMedia is found then call the method to create the new sub directory\");a.createSubDirectory(e)},function(f){if(f.code==FileError.NOT_FOUND_ERR){a.createDirectory(c)}})},function(d){a.errorHandler(d)})}catch(b){alert(\"Exception \"+b.toString())}},storeMedia:function(d){var c=new Date();var f=Ext.getStore(\"userstore\");f.setAutoLoad(true);f.setAutoSync(true);try{var a;if(f.getCount()==0){a=0}else{var b=f.getAt(f.getCount()).get(\"mediaId\");a=b+1}f.add({mediaId:a,imageType:\"i\",srcUrl:d,imgUrl:d,dateStamp:c});alert(\"count is \"+f.getCount())}catch(g){alert(\"Exception caught\"+g.toString())}",571522,349,"Panel",571886,130,572020,158,"fals",572181,43,",{title:\"Setting\"},{title:\"Setting\"},{title:\"Setting",572222,53,"panel\",\"settting",571725,38,"panel",572352,183,"toolbar\",itemId:\"filterToolbar\",docked:\"top",571968,41,"settings\",id:\"filterBackbutton\",align:\"left\"}]},",572527,684,"models:[\"Media\"],stores:[\"MediaStore",573208,774]