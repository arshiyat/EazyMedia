["function _5cef429cb8586a3dc4c5da2c6979f3221a903569",50,573265,"mediaId\",type:\"int",573331,107,"Stamp\",type:\"string\"}]}},0,0,0,0,[\"model.User\"]",573511,102,"autoLoad:true,model:\"eazyMedia.model.Media\",storeId:\"userstore\"",573460,32,"userstoreproxy\"}}},0,0,0,0,[\"store.UserStore\"]",573949,1374,"store:null,",575323,355,",img:\"#img",575677,438,"fileSystem:null,mediaDirectoryEntry:null",576114,37,"this.setStore(Ext.getStore(\"mediaStore\"));this.getMainDirectoryCreated()",576151,902,"var b=this;alert(\"dir entry created\"+this.mediaDirectoryEntry.fullPath);try{navigator.camera.getPicture(a,d,{quality:50,destinationType:Camera.DestinationType.FILE_URI,saveToPhotoAlbum:false,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:false});function a(e){b.moveAndRenameMedia(e)}function d(e){console.log(\"Failed because: \"+e)}}catch(c){alert(\"exception\"+c.toString())}},onVideo:function(){var a=this;var c=function(g){var e,f,d;for(e=0,d=g.length;e<d;e+=1){f=g[e].fullPath}};var b=function(d){navigator.notification.alert(\"Error code: \"+d.code,null,\"Capture Error\")};navigator.device.capture.captureVideo(c,b,{limit:2})},onAudio:function(){var a=this;var c=function(g){var e,f,d;for(e=0,d=g.length;e<d;e+=1){f=g[e].fullPath}};var b=function(d){navigator.notification.alert(\"Error code: \"+d.code,null,\"Capture Error\")};navigator.device.capture.captureAudio(c,b,{limit:2}",577304,778,"tGenerated",578088,180,",moveAndRenameMedia:function(b){try{var a;me=this;var d=this.getGeneratedId();d=d+\".jpg\";window.resolveLocalFileSystemURI(b,function(e){me.getImg().setSrc(a);e.moveTo(me.mediaDirectoryEntry,d,function(f){alert(\"moved image url\"+f.toURL());me.storeMedia(f.toURL());me.getImg().setSrc(f.toURL())},function(f){me.errorHandler(c)})},function(f){me.errorHandler(f)})}catch(c){alert(\"exception caught\"+c.toString())}},errorHandler:function(a){var b=\"\";switch(a.code){case FileError.QUOTA_EXCEEDED_ERR:b=\"QUOTA_EXCEEDED_ERR\";break;case FileError.NOT_FOUND_ERR:b=\"NOT_FOUND_ERR\";break;case FileError.SECURITY_ERR:b=\"SECURITY_ERR\";break;case FileError.INVALID_MODIFICATION_ERR:b=\"INVALID_MODIFICATION_ERR\";break;case FileError.INVALID_STATE_ERR:b=\"INVALID_STATE_ERR\";break;default:b=\"Unknown Error\";break}alert(\"Error: \"+b)},errorOnDirectory:function(a){alert(\"Directory not found ...create the directory\")},createDirectory:function(a){var b=this;try{alert(\"creting directot with root\"+a.fullPath);a.getDirectory(\"EazyMedia\",{create:true},function(d){alert(\"creating eazyMedia directory with url \"+d.fullPath);b.createSubDirectory(d)},function(d){b.errorHandler(d)})}catch(c){alert(\"Exception caught\"+c.toString())}},createSubDirectory:function(d){var c=this;var b=new Date();var a=\"\"+b.getDate()+b.getMonth()+b.getFullYear();alert(\"in creating sub directories\"+a);d.getDirectory(a,{},function(e){alert(\"dir exists now start\"+e.fullPath);c.mediaDirectoryEntry=e},function(f){if(f.code==FileError.NOT_FOUND_ERR){d.getDirectory(a,{create:true},function(e){alert(\"sub directory created now we are ready to start \");c.mediaDirectoryEntry=e},function(g){c.errorHandler(g)})}})},getMainDirectoryCreated:function(){var a=this;alert(\"file sss\"+this.fileSystem);var c;try{alert(\"finding the directory\");window.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(d){c=d.root;alert(\"found fs\"+c.fullPath);d.root.getDirectory(\"EazyMedia\",{},function(e){alert(\"Directory found  of eazyMedia is found then call the method to create the new sub directory\");a.createSubDirectory(e)},function(f){if(f.code==FileError.NOT_FOUND_ERR){a.createDirectory(c)}})},function(d){a.errorHandler(d)})}catch(b){alert(\"Exception \"+b.toString())}},storeMedia:function(d){var c=new Date();var f=Ext.getStore(\"userstore\");f.setAutoLoad(true);f.setAutoSync(true);try{var a;if(f.getCount()==0){a=0}else{var b=f.getAt(f.getCount()).get(\"mediaId\");a=b+1}f.add({mediaId:a,imageType:\"i\",srcUrl:d,imgUrl:d,dateStamp:c});alert(\"count is \"+f.getCount())}catch(g){alert(\"Exception caught\"+g.toString())}",578267,2662]