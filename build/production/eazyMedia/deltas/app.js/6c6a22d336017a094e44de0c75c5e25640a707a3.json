["function _6ec1f48f613be6dde5411f343fc30bc74050b55b",50,420727,"identifier.Uuid\",Ext.data.identifier.Simple,{isUnique:true,config:{id:undefined,salt:null,timestamp:null,version:4},applyId:function(a){if(a===undefined){return Ext.data.identifier.Uuid.Global}return a",418174,36,"Ext.data.identifier.Simple",506527,45,"a.parts=[];a.init()},reconfigure:function(a){this.setConfig(a);this.init()},generate:function(){var c=this,e=c.parts,a=c.getVersion(),b=c.getSalt(),d=c.getTimestamp();e[0]=c.toHex(d.lo,8);e[1]=c.toHex(d.hi&65535,4);e[2]=c.toHex(((d.hi>>>16)&4095)|(a<<12),4);e[3]=c.toHex(128|((c.clockSeq>>>8)&63),2)+c.toHex(c.clockSeq&255,2);e[4]=c.toHex(b.hi,4)+c.toHex(b.lo,8);if(a==4){c.init()}else{++d.lo;if(d.lo>=c.twoPow32){d.lo=0;++d.hi}}return e.join(\"-\").toLowerCase()},init:function(){var b=this,a=b.getSalt(),c=b.getTimestamp();if(b.getVersion()==4){b.clockSeq=b.rand(0,b.twoPow14-1);if(!a){a={};b.setSalt(a)}if(!c){c={};b.setTimestamp(c)}a.lo=b.rand(0,b.twoPow32-1);a.hi=b.rand(0,b.twoPow16-1);c.lo=b.rand(0,b.twoPow32-1);c.hi=b.rand(0,b.twoPow28-1)}else{b.setSalt(b.split(b.getSalt()));b.setTimestamp(b.split(b.getTimestamp()));b.getSalt().hi|=256}},twoPow14:Math.pow(2,14),twoPow16:Math.pow(2,16),twoPow28:Math.pow(2,28),twoPow32:Math.pow(2,32),toHex:function(c,b){var a=c.toString(16);if(a.length>b){a=a.substring(a.length-b)}else{if(a.length<b){a=Ext.String.leftPad(a,b,\"0\")}}return a},rand:function(a,c){var b=Math.random()*(c-a+1);return Math.floor(b)+a},split:function(b){if(typeof(b)==\"number\"){var a=Math.floor(b/this.twoPow32);return{lo:Math.floor(b-a*this.twoPow32),hi:a}}return b}},1,0,0,0,[\"data.identifier.uuid\"],0,[Ext.data.identifier,\"Uuid\"],function(){this.Global=new this({id:\"uuid\"",368349,32,420777,152492,"BaseModel\",Ext.data.Model,{linkedAssociations:false,config:{identifier:{type:\"uuid\"}},inheritableStatics:{getAllPaths:function(){var a;if(this.pathHistory){return this.pathHistory}this.pathHistory={};a=this.modelName.substr(this.modelName.lastIndexOf(\".\")+1);this.pathHistory[a]={paths:[[a]]};this._getPaths(this,a,this.pathHistory);return this.pathHistory},_getPaths:function(b,a,g){var d,h,f,c,e;if(this.associations){for(d=0;d<this.associations.all.length;d+=1){h=this.associations.all[d].config;f=Ext.ModelManager.getModel(h.associatedModel);c=h.name;e=a+\".\";if(e.search(new RegExp(\"(\\\\.|^)\"+c+\"\\\\.\",\"g\"))!==-1){continue}e+=c;if(!g[c]||!this._contains(g[c].paths,e)){g[c]=g[c]||{paths:[]};g[c].paths.push(e.split(\".\"));f._getPaths(b,e,g)}}}},getModelName:function(){var a=this.getName();return a.substr(a.lastIndexOf(\".\")+1)},_contains:function(c,b){var a;for(a=0;a<c.length;a+=1){if(c[a]===b){return true}}return false}},getModelName:function(){return this.self.getModelName()},getAssociatedRecords:function(e){var c,a,g,d,b,f,j=this.self.getAllPaths(),h;if(!j[e]){throw new Error(\"There is no path between \"+this.getModelName()+\" and \"+e)}f=j[e].paths[0];d=[this];b=[];for(c=1;c<f.length;c+=1){if(d.length===0){return[]}g=d[0].associations.get(f[c]);if(!g){throw new Error(\"Cannot find association \"+f[c]+\" on \"+d[0].getModelName())}for(a=0;a<d.length;a+=1){if(g",383767,40,"b.concat(d[a].getChildren(f[c]))}else{h=d[a].getParent(f[c]);if(h!==null){b.push(h)}}}d=b;b=[]}return d},getParent:function(b){var c=this.associations.get(b);if(!c){return null}var a=Ext.StoreMgr.get(c.config.foreignStore);if(!a){return null}return a.findRecordAll(c.config.primaryKey,this.get(c.config.foreignKey))},getChildren:function(b){var c=this.associations.get(b),d=this.get(c.config.primaryKey);if(!c){return null}var a=Ext.StoreMgr.get(c.config.foreignStore);if(!a){return null}return a.findRecordsAll(function(e){return e.get(c.config.foreignKey)===d})},getChildrenData:function(d){var b=this.getChildren(d);var a=[];for(var c in b){a.push(b[c].data)}return a},getData:function(b,d){if(b&&!this.linkedAssociations){this.linkedAssociations=true;this.linkAssociations(b)}var c=(arguments.callee.$previous||Ext.data.Model.prototype.getData).apply(this,arguments);if(d){var a=this.getAllChildData();Ext.apply(c,a)}return c},getRawData:function(a){var b,d,c=Ext.apply({},this.getData(false));if(!SalesForce.metaStore[this.self.getSfName()]){return c}d=SalesForce.metaStore[this.self.getSfName()];for(b in c){if(!d.fieldMap[b]||(a&&!d.fieldMap[b].createable)){delete c[b]}}return c},getFlattenedData:function(a){var c=this.getData(a,false);var b=1;var e;var d=function(j,h,g,i){if(b++>20){console.log(\"TOO DEEP RECURSION\");return}g=g||{};i=i||\"\";for(var f in j){if(h||j.hasOwnProperty(f)){var l=j[f];if(l instanceof Array){continue}if(l&&typeof l===\"object\"&&!(l instanceof Date||l instanceof RegExp)){d(l,h,g,i+f+\".\")}else{g[i+f]=l}}}return g};return d(c,false)},linkAssociations:function(a,g){var j=this,d=this.associations.items,e=d.length,l,b,k,f,h,c;g=g||0;if(g>10){console.log(\"Too deep recursion in linkAssociations\");return}for(f=0;f<e;f++){b=d[f];l=b.getName();h=b.getType();c=b.config.foreignStore;if(!c){continue}if(h.toLowerCase()===\"belongsto\"||h.toLowerCase()===\"hasone\"){k=this.getParent(l);if(k){this[b.getInstanceName()]=k;k.linkAssociations(a,(g+1))}else{if(this.get(b.config.foreignKey)){console.log(\"Warning, model association not found \")}}}}},getAllChildData:function(){var e=this.associations.items,f=e.length,j,c,g,h,d,b={};for(g=0;g<f;g++){c=e[g];j=c.getName();h=c.getType();d=c.config.foreignStore;if(!d){continue}if(h.toLowerCase()==\"hasmany\"){var a=this.getChildrenData(j);b[j]=a}}return b",573499,33,"BaseModel",573229,47,"eazyMedia.model.BaseModel,{config:{idProperty:\"id\",fields:[{name:\"id\"},{name:\"captureId\"},{name:\"url\"},{name:\"appUrl\"},{name:\"typ",573456,43,",belongsTo:[{model:\"eazyMedia.model.Capture\",name:\"Capture\",primaryKey:\"id\",foreignKey:\"captureId\",foreignStore:\"Capture\"}]",573499,72,"model.Capture\",eazyMedia.model.BaseModel,{config:{idProperty:\"id\",fields:[{name:\"id\"},{name:\"CaptureName\"},{name:\"dateStamp\",type:\"date\"}],hasMany:[{model:\"eazyMedia.model.Media\",name:\"Media\",primaryKey:\"id\",foreignKey:\"captureId\",foreignStore:\"Medias\"}]",573499,33,"Capture",573229,34,"store.BaseStore\",Ext.data.Store,{findRecordAll:function(c,e){var b,a;if(typeof c===\"function\"){var d=c;for(b=0;b<this.data.all.length;b+=1){a=this.data.all[b];if(d(a)){return a}}}else{for(b=0;b<this.data.all.length;b+=1){a=this.data.all[b];if(a.get(c)===e){return a}}}return null},findRecordsAll:function(d,f){var c,a,b=[];if(typeof d===\"function\"){var e=d;for(c=0;c<this.data.all.length;c+=1){a=this.data.all[c];if(e(a)){b.push(a)}}}else{for(c=0;c<this.data.all.length;c+=1){a=this.data.all[c];if(a.get(d)===f){b.push(a)}}}return b",573937,33,"BaseStore",573229,34,"store.Medias\",eazyMedia.store.BaseStore,{config:{autoLoad:true,model:\"eazyMedia.model.Media\",storeId:\"Medias\"",573937,38,"s",573229,34,"store.Captures\",eazyMedia.store.BaseStore,{config:{autoLoad:true,model:\"eazyMedia.model.Capture\",storeId:\"Captures\"",573460,32,"Captures\"}",573937,33,"Captures",573229,34,"view.CaptureDataView\",Ext.dataview.DataView,{config:{",574829,50,"style:\"background:#D8D8D8\",inline:{wrap:true},itemTpl:'<div class=\"tableThumbnail\"><table style=\"width: 100%\"><tr><tpl if=\"medias.length == 0\">No Media Captured</tpl>{dateStamp}</tr><tr><tpl for=\"medias\"><td><tpl if=\"type==\\'i\\'\"><div class=\"img\"><img src=\"{url}\" height=\"75\" width=\"75\"/> </div></tpl><tpl if=\"imageType==\\'v\\'\"><div class=\"img\"><video src=\"{appUrl}\" controls=\"controls\" webkit-playsinline preload=\"metadata\" height=\"75\" width=\"150\"></video></div></tpl></td></tpl></tr></div>',store:\"captures\",scrollable:{direction:\"vertical\",directionLock:true}},prepareData:function(d,b,a){var c;console.log(a.get(\"id\"));var f=a.getAssociatedRecords(\"Media\");var e=[];for(var c=0;c<f.length;c++){e.push(f[c].getData())}d.medias=e;console.log(d);return d}},0,[\"captureDataV",549230,32,"dataview\",\"captureDataV",549273,37,"dataview:true,captureDataView:true},[\"widget.captureDataView\"],0,[eazyMedia.view,\"Capture",446334,32,574004,79,"#1C1C1C",574088,557,"style:\"background:#1C1C1C",574643,176,"captureDataView",575036,287,"captureStore:null,mediaStore:null,",575323,355,",img:\"#img\",showPanel:\"#showPanel",575677,329,",sortButton:{tap:\"onSort",575998,117,"fileSystem:null,mediaDirectoryEntry:null,eazyDirectoryEntry:null,currentCapturedId:-1",576114,37,"try{this.setCaptureStore(Ext.getStore(\"Captures\"));this.setMediaStore(Ext.getStore(\"Medias\"));var a=Ext.getStore(\"Captures\");a.load();alert(\"bfre\"+a.getCount());var b=new Date();a.add({id:11,captureName:\"blah\",dateStamp:b});a.add({id:12,captureName:\"blah\",dateStamp:b});a.sync();alert(\"count on capture store in launch\"+a.getCount())}catch(c){alert(\"Exception caught\"+c.toString())}},getVideoAudioPath:function(){try{var a=this.getMediaStore();var b;a.each(function(d,e){if(d.get(\"type\")===\"v\"||d.get(\"type\")===\"a\"){b=d.get(\"url\");window.resolveLocalFileSystemURI(b,function(f){d.set(\"appUrl\",f.toURL())},function(f){alert(\"exception in resolve\")})}})}catch(c){alert(\"exception caught\"+c.toString)}",576151,885,"SortButton:function(){alert(\"in sort\");try{var b=this.getStore();alert(b);var d=b.getCount();var a=b.getAt(6).get(\"srcUrl\");var c=this;window.resolveLocalFileSystemURI(a,function(g){alert(\"finally\"+g.toURL());var e='<video width=\"320\" height=\"240\" controls src=\"'+g.toURL()+'\"/>';alert(e);c.getShowPanel().setHtml(e)},function(g){alert(\"exception in resolve\")});",577057,101,"f",577159,33,"f.message)}},onPhoto:function(){var b=this;alert(\"dir entry created\"+this.mediaDirectoryEntry.fullPath);try{navigator.camera.getPicture(a,d,{quality:50,destinationType:Camera.DestinationType.FILE_URI,saveToPhotoAlbum:false,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:false});function a(e){b.moveAndRenameMedia(e,\"i\")}function d(e){console.log(\"Failed because: \"+e)}}catch(c){alert(\"exception\"+c.toString())}},onVideo:function(){var a=this;var c=function(g){var e,f,d;for(e=0,d=g.length;e<d;e+=1){f=g[e].fullPath;alert(\"path is \"+f);a.moveAndRenameMedia(\"file:///\"+f,\"v\")}};var b=function(d){navigator.notification.alert(\"Error code: \"+d.code,null,\"Capture Error\")};navigator.device.capture.captureVideo(c,b,{limit:1})},onAudio:function(){var a=this;var c=function(g){var e,f,d;for(e=0,d=g.length;e<d;e+=1){f=g[e].fullPath;alert(f);a.moveAndRenameMedia(\"file:///\"+f,\"a\")}};var b=function(d){navigator.notification.alert(\"Error code: \"+d.code,null,\"Capture Error\")};navigator.device.capture.captureAudio(c,b,{limit:2}",577304,778,"tGenerated",578088,180,",moveAndRenameMedia:function(b,d){this.createSubDirectory(this.eazyDirectoryEntry);alert(\"in moveAndRenameMedia\"+this.mediaDirectoryEntry.fullPath);try{var a;me=this;var g=this.getGeneratedId();var c;switch(d){case\"i\":c=\".jpg\";break;case\"v\":c=\".mov\";break;case\"a\":c=\".wav\";break}g=g+c;window.resolveLocalFileSystemURI(b,function(e){alert(\"finally\"+e.toURL());e.moveTo(me.mediaDirectoryEntry,g,function(h){alert(\"moved image url\"+h.toURL());me.storeMedia(h.toInternalURL(),h.toURL(),d)},function(h){me.errorHandler(f)})},function(h){me.errorHandler(h)})}catch(f){alert(\"exception caught\"+f.toString())}},errorHandler:function(a){var b=\"\";switch(a.code){case FileError.QUOTA_EXCEEDED_ERR:b=\"QUOTA_EXCEEDED_ERR\";break;case FileError.NOT_FOUND_ERR:b=\"NOT_FOUND_ERR\";break;case FileError.SECURITY_ERR:b=\"SECURITY_ERR\";break;case FileError.INVALID_MODIFICATION_ERR:b=\"INVALID_MODIFICATION_ERR\";break;case FileError.INVALID_STATE_ERR:b=\"INVALID_STATE_ERR\";break;default:b=\"Unknown Error\";break}alert(\"Error: \"+b)},createDirectory:function(a){var b=this;try{a.getDirectory(\"EazyMedia\",{create:true},function(d){b.eazyDirectoryEntry=d;b.createSubDirectory(d)},function(d){b.errorHandler(d)})}catch(c){alert(\"Exception caught\"+c.toString())}},createSubDirectory:function(d){var c=this;var b=new Date();var a=\"\"+b.getDate()+b.getMonth()+b.getFullYear();d.getDirectory(a,{},function(e){c.mediaDirectoryEntry=e},function(f){if(f.code==FileError.NOT_FOUND_ERR){d.getDirectory(a,{create:true},function(e){c.mediaDirectoryEntry=e;c.generateCaptureId()},function(g){c.errorHandler(g)})}})},getMainDirectoryCreated:function(){var a=this;var c;try{alert(\"finding the directory\");window.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(d){c=d.root;d.root.getDirectory(\"EazyMedia\",{},function(e){a.eazyDirectoryEntry=e;a.createSubDirectory(e)},function(f){if(f.code==FileError.NOT_FOUND_ERR){a.createDirectory(c)}})},function(d){a.errorHandler(d)})}catch(b){alert(\"Exception \"+b.toString())}},storeMedia:function(d,h,b){var c=new Date();var f=this.getMediaStore();try{var a=0;if(f.getCount()==0){a=1}else{a=f.getCount()+1}f.add({mediaId:a,captureId:this.currentCapturedId,imageType:b,url:d,appUrl:h,dateStamp:c});alert(\"store count is \"+f.getCount())}catch(g){alert(\"Exception caught\"+g.toString())}},generateCaptureId:function(){var b=this.getCaptureStore();var c=b.getCount();var a=new Date();this.currentCapturedId=c;if(c==0){this.currentCapturedId=1}b.add({id:this.currentCapturedId,captureName:\"blah blah\",dateStamp:a});alert(\"capture store count is after generation \"+b.getCount())},clearStore:function(){var a=this.getMediaStore();a.removeAll();alert(\"Store is cleared\"+a.getCount())",578267,1823,",\"CaptureDataView",580089,45,",\"Capture\"],stores:[\"Medias\",\"Captures",580155,774]